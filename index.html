<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Caravans Tasmania — New & Highclere Caravans in Launceston</title>
  <meta name="description" content="Caravans Tasmania in Youngtown, Launceston. New Age & Highclere caravans, servicing, repairs and local support. Call (03) 6343 7287." />
  <link rel="icon" href="assets/ct_logo_email_600_white.png" />
  <meta name="theme-color" content="#0f172a">

  <meta property="og:title" content="Caravans Tasmania — New & Highclere Caravans in Launceston">
  <meta property="og:description" content="Sales, servicing and upgrades with local support in Youngtown, TAS. Call (03) 6343 7287.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="assets/ct_logo_email_600_white.png">
  <meta property="og:url" content="https://ctas1.vercel.app/index.html">
  <meta name="twitter:card" content="summary">

  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .logo-white { filter: brightness(0) invert(1); }
    html { scroll-behavior: smooth; }
    [id] { scroll-margin-top: 96px; }
    .nav-backdrop { backdrop-filter: saturate(180%) blur(8px); -webkit-backdrop-filter: saturate(180%) blur(8px); }
    .dropdown:hover .dropdown-menu { display: block; }
    .dropdown:focus-within .dropdown-menu { display: block; }
    /* Added simple style for the benefits list */
    .benefits-list li { margin-top: 0.75rem; display: flex; align-items: center; gap: 0.5rem; }
  </style>
</head>
<body class="bg-white text-slate-800">
  <div class="w-full bg-slate-900 text-white text-sm">
    <div class="max-w-7xl mx-auto px-4 py-2 flex items-center justify-between">
      <a href="tel:+61363437287" class="hover:underline">Call (03) 6343 7287</a>
      <div class="space-x-4 hidden sm:block">
        <a href="https://www.facebook.com/caravanstasmania/" target="_blank" rel="noopener noreferrer" class="hover:underline">Facebook</a>
      </div>
    </div>
  </div>

  <header class="sticky top-0 z-40 bg-white border-b border-slate-200">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex items-center justify-between h-16">
        <a href="#home" class="flex items-center space-x-3">
          <img src="assets/ct_logo_email_600_white.png" alt="Caravans Tasmania" class="h-12 md:h-14 w-auto object-contain" />
        </a>
        <nav class="hidden md:flex items-center space-x-6">
          <a href="#home" class="hover:text-slate-600">Home</a>
          <div class="relative dropdown">
            <button class="inline-flex items-center gap-1 hover:text-slate-600">
              Our Caravans
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" clip-rule="evenodd"/></svg>
            </button>
            <div class="dropdown-menu absolute left-0 mt-3 w-[760px] bg-white border border-slate-200 shadow-xl rounded-xl p-6 hidden">
              <div class="grid grid-cols-3 gap-6 text-sm">
                <div>
                  <h4 class="font-semibold mb-2">New Age Caravans</h4>
                  <ul class="space-y-1">
                    <li><a class="hover:underline" href="https://newagecaravans.com.au/caravans/escape-my25-5/" target="_blank" rel="noopener noreferrer">Escape</a></li>
                    <li><a class="hover:underline" href="https://newagecaravans.com.au/caravans/expedition/" target="_blank" rel="noopener noreferrer">Expedition</a></li>
                    <li><a class="hover:underline" href="https://newagecaravans.com.au/caravans/embark/" target="_blank" rel="noopener noreferrer">Manta Ray</a></li>
                    <li><a class="hover:underline" href="https://newagecaravans.com.au/caravans/desert-rose/" target="_blank" rel="noopener noreferrer">Desert Rose</a></li>
                    <li><a class="hover:underline" href="https://newagecaravans.com.au/caravans/oz-classic/" target="_blank" rel="noopener noreferrer">Oz Classic</a></li>
                  </ul>
                </div>
                <div>
                  <h4 class="font-semibold mb-2">Highclere Caravans</h4>
                  <ul class="space-y-1">
                     <li><a class="hover:underline" href="https://www.highclerecaravans.com.au/the-runaway-156-ft/" target="_blank" rel="noopener noreferrer">Runaway 15'6</a></li>
                    <li><a class="hover:underline" href="https://www.highclerecaravans.com.au/little-hauss-176-ft/" target="_blank" rel="noopener noreferrer">Little Hauss 17'6</a></li>
                    <li><a class="hover:underline" href="https://www.highclerecaravans.com.au/little-cote-186/" target="_blank" rel="noopener noreferrer">Little Cote 18'6</a></li>
                    <li><a class="hover:underline" href="https://www.highclerecaravans.com.au/little-palace-186-ft/" target="_blank" rel="noopener noreferrer">Little Palace 18'6</a></li>
                    <li><a class="hover:underline" href="https://www.highclerecaravans.com.au/little-villa-186-ft/" target="_blank" rel="noopener noreferrer">Little Villa 18'6</a></li>
                    <li><a class="hover:underline" href="https://www.highclerecaravans.com.au/classic-196-ft/" target="_blank" rel="noopener noreferrer">Classic 19'6</a></li>
                    <li><a class="hover:underline" href="https://www.highclerecaravans.com.au/royal/" target="_blank" rel="noopener noreferrer">Royal 22FT</a></li>
                    <li><a class="hover:underline" href="https://www.highclerecaravans.com.au/arundel/" target="_blank" rel="noopener noreferrer">ARUNDEL 22'6"-FT</a></li>
                    <li><a class="hover:underline" href="https://www.highclerecaravans.com.au/oasis-216-ft/" target="_blank" rel="noopener noreferrer">OASIS 21'6"-FT</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <a href="stock.html" class="hover:text-slate-600">Stock</a>
          <a href="events.html" class="hover:text-slate-600 text-slate-600">Events</a>
          <a href="#services" class="hover:text-slate-600">Services</a>
          <a href="#about" class="hover:text-slate-600">About</a>
          <a href="#contact" class="hover:text-slate-600">Contact</a>
        </nav>
        <button id="menuBtn" class="md:hidden p-2 rounded hover:bg-slate-100" aria-label="Open Menu" aria-expanded="false">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
        </button>
      </div>
 <div id="mobileNav" class="md:hidden hidden border-t border-slate-200 bg-white">
      <nav class="max-w-7xl mx-auto px-4 py-4 grid gap-3">
        <a href="#home" class="py-2">Home</a>
        <details>
          <summary class="cursor-pointer py-2">Our Caravans</summary>
          <div class="pl-4 text-sm space-y-3 mt-2">
            <div>
              <p class="font-semibold">New Age Caravans</p>
              <ul class="pl-3 mt-1 space-y-1">
                <li><a href="https://newagecaravans.com.au/caravans/escape-my25-5/" target="_blank" rel="noopener noreferrer">Escape</a></li>
                <li><a href="https://newagecaravans.com.au/caravans/expedition/" target="_blank" rel="noopener noreferrer">Expedition</a></li>
                <li><a href="https://newagecaravans.com.au/caravans/embark/" target="_blank" rel="noopener noreferrer">Manta Ray</a></li>
                <li><a href="https://newagecaravans.com.au/caravans/desert-rose/" target="_blank" rel="noopener noreferrer">Desert Rose</a></li>
                <li><a href="https://newagecaravans.com.au/caravans/oz-classic/" target="_blank" rel="noopener noreferrer">Oz Classic</a></li>
              </ul>
            </div>
            <div>
              <p class="font-semibold">Highclere Caravans</p>
              <ul class="pl-3 mt-1 space-y-1">
                 <li><a href="https://www.highclerecaravans.com.au/the-runaway-156-ft/" target="_blank" rel="noopener noreferrer">Runaway 15'6</a></li>
                <li><a href="https://www.highclerecaravans.com.au/little-hauss-176-ft/" target="_blank" rel="noopener noreferrer">Little Hauss 17'6</a></li>
                <li><a href="https://www.highclerecaravans.com.au/little-cote-186/" target="_blank" rel="noopener noreferrer">Little Cote 18'6</a></li>
                <li><a href="https://www.highclerecaravans.com.au/little-palace-186-ft/" target="_blank" rel="noopener noreferrer">Little Palace 18'6</a></li>
                <li><a href="https://www.highclerecaravans.com.au/little-villa-186-ft/" target="_blank" rel="noopener noreferrer">Little Villa 18'6</a></li>
                <li><a href="https://www.highclerecaravans.com.au/classic-196-ft/" target="_blank" rel="noopener noreferrer">Classic 19'6</a></li>
                <li><a href="https://www.highclerecaravans.com.au/royal/" target="_blank" rel="noopener noreferrer">Royal 22FT</a></li>
                <li><a href="https://www.highclerecaravans.com.au/arundel/" target="_blank" rel="noopener noreferrer">ARUNDEL 22'6"-FT</a></li>
                <li><a href="https://www.highclerecaravans.com.au/oasis-216-ft/" target="_blank" rel="noopener noreferrer">OASIS 21'6"-FT</a></li>
              </ul>
            </div>
          </div>
        </details>
        <a href="stock.html" class="py-2">Stock</a>
        <a href="events.html" class="py-2 text-slate-600">Events</a>
        <a href="#services" class="py-2">Services</a>
        <a href="#about" class="py-2">About</a>
        <a href="#contact" class="py-2">Contact</a>
      </nav>
    </div>
  </header>

  <section id="home" class="relative">
    <div class="relative h-[52vh] md:h-[68vh]">
      <div id="homeFade" class="absolute inset-0">
        <img src="assets/BigRed_Gallery23.jpg" fetchpriority="high" decoding="async" alt="Caravan exterior on the road" class="absolute inset-0 h-full w-full object-cover opacity-100 transition-opacity duration-700" />
        <img loading="lazy" decoding="async" src="assets/IMG_0139.jpeg" alt="Caravan interior" class="absolute inset-0 h-full w-full object-cover opacity-0 transition-opacity duration-700" />
        <img loading="lazy" decoding="async" src="assets/WhatsApp-Image-2024-11-14-at-3.30.35-PM-scaled.jpeg" alt="Highclere display" class="absolute inset-0 h-full w-full object-cover opacity-0 transition-opacity duration-700" />
      </div>
      <div class="absolute inset-0 bg-black/40"></div>
      <div class="relative z-10 h-full">
        <div class="max-w-7xl mx-auto h-full px-4 flex items-center">
          <div class="text-white drop-shadow">
            <h1 class="text-3xl md:text-5xl font-bold">Start Your Next Adventure with Tasmania’s Caravan Specialists</h1>
            <p class="mt-3 md:mt-4 text-slate-100 md:text-lg max-w-2xl">
              Explore premium new caravans, expert all-brand servicing, and genuine parts. Backed by over 10 years of local experience in Launceston.
            </p>
            <div class="mt-5 flex gap-3">
              <a href="stock.html" class="px-5 py-3 bg-white text-slate-900 rounded-lg font-medium hover:bg-slate-100 transition">View Stock</a>
              <a href="#contact" class="px-5 py-3 bg-slate-900 text-white rounded-lg font-medium hover:bg-slate-800 transition">Book a Service</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="services" class="py-16">
    <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-3 gap-8">
      <div>
        <h2 class="text-3xl font-semibold">Services</h2>
        <p class="text-slate-600 mt-3">
          Travel with confidence. Our professionally trained Launceston team services <strong>all caravan brands</strong>, delivering the peace of mind you need for safe travels.
        </p>
        <p class="text-slate-600 mt-3">Trust your dream in safe hands at our local service centre.</p>
      </div>
      <div class="md:col-span-2">
        <h3 class="font-semibold mb-4 uppercase text-xs tracking-wider text-slate-500">
          Comprehensive caravan servicing, repairs & upgrades
        </h3>
        <div class="grid sm:grid-cols-2 gap-4">
          <div class="rounded-xl border border-slate-200 p-4 hover:border-slate-300 transition">
            <p class="font-medium">General servicing (All Brands)</p>
            <p class="text-sm text-slate-600">Brakes, bearings, 12V/240V systems, plumbing, and chassis checks.</p>
          </div>
          <div class="rounded-xl border border-slate-200 p-4 hover:border-slate-300 transition">
            <p class="font-medium">Off-grid setups</p>
            <p class="text-sm text-slate-600">Power your adventures with custom solar, lithium systems, and battery management.</p>
          </div>
          <div class="rounded-xl border border-slate-200 p-4 hover:border-slate-300 transition">
            <p class="font-medium">Suspension repairs & upgrades</p>
            <p class="text-sm text-slate-600">Leaf & roller-rocker, shocks & bushes, alignments for smoother towing.</p>
          </div>
           <div class="rounded-xl border border-slate-200 p-4 hover:border-slate-300 transition">
            <p class="font-medium">Custom accessory fitting</p>
            <p class="text-sm text-slate-600">Diesel & gas heaters, awnings, AL-KO ESC, and more.</p>
          </div>
          <div class="rounded-xl border border-slate-200 p-4 hover:border-slate-300 transition">
            <p class="font-medium">Warranty claims</p>
            <p class="text-sm text-slate-600">Official support for our brands and major component suppliers.</p>
          </div>
          <div class="rounded-xl border border-slate-200 p-4 hover:border-slate-300 transition">
            <p class="font-medium">Insurance work</p>
            <p class="text-sm text-slate-600">Thorough assessments, claim handling, and quality repairs.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="about" class="py-16 bg-slate-50">
    <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-10 items-center">
      <div>
        <h2 class="text-3xl font-semibold">About Us</h2>
        <p class="mt-4 text-slate-600">
          We’ve spent <strong>over 10 years</strong> helping Tasmanians choose, maintain, and enjoy their caravans. From first vans to long-haul tourers, we focus on practical advice, solid workmanship, and support that lasts well beyond delivery.
        </p>
        <p class="mt-4 text-slate-600">
          We’re <strong>customer-satisfaction driven</strong> — offering clear communication, fair quoting, and quality work we stand behind.
        </p>
        <ul class="benefits-list mt-6 text-slate-700">
          <li><span>✅</span> 10+ years in the caravan industry</li>
          <li><span>✅</span> All-brand servicing & repairs</li>
          <li><span>✅</span> Specialists in New Age & Highclere models</li>
          <li><span>✅</span> Transparent quotes & timely updates</li>
          <li><span>✅</span> Local & independent</li>
        </ul>
        <div class="mt-6 flex gap-3">
          <a href="#contact" class="px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-slate-800 transition">Book a service</a>
          <a href="stock.html" class="px-4 py-2 rounded-lg border border-slate-300 hover:bg-slate-100 transition">View stock</a>
        </div>
      </div>
      <img loading="lazy" decoding="async" class="rounded-xl shadow-md" src="assets/PXL_20250602_032514027.jpg" alt="Caravans Tasmania Workshop" />
    </div>
  </section>

  <section class="py-16">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex justify-between items-end mb-6">
        <h2 class="text-3xl font-semibold">In-stock caravans</h2>
        <a href="stock.html" class="hidden sm:inline-block text-slate-900 font-medium hover:underline">See all stock →</a>
      </div>
      <div id="stockPreview" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        </div>
      <div class="mt-8 sm:hidden">
        <a href="stock.html" class="block w-full text-center px-5 py-3 bg-slate-900 text-white rounded-lg font-medium">See all stock</a>
      </div>
    </div>
  </section>

  <section id="contact" class="py-16 border-t border-slate-100">
    <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-10 items-start">
      <div>
        <h2 class="text-3xl font-semibold">Contact</h2>
        <p class="text-slate-600 mt-2">Sales & service enquiries welcome. Use the form or call the showroom.</p>
        <ul class="mt-6 text-slate-700 space-y-3">
          <li class="flex gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-slate-400 shrink-0">
              <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-1.335 1.335c-2.853-1.657-5.484-4.288-7.143-7.143l1.335-1.335c.362-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" />
            </svg>
            <div>
              <p class="font-medium">Phone</p>
              <a href="tel:+61363437287" class="text-slate-600 hover:underline">(03) 6343 7287</a>
            </div>
          </li>
          <li class="flex gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-slate-400 shrink-0">
              <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
            </svg>
            <div>
              <p class="font-medium">Email</p>
              <a href="mailto:reception@caravanstas.com.au" class="text-slate-600 hover:underline">reception@caravanstas.com.au</a>
            </div>
          </li>
          <li class="flex gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-slate-400 shrink-0">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
            </svg>
            <div>
              <p class="font-medium">Address</p>
              <p class="text-slate-600">389 Hobart Road, Youngtown TAS 7249</p>
            </div>
          </li>
          <li class="flex gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-slate-400 shrink-0">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
             <div>
              <p class="font-medium">Hours</p>
              <p class="text-slate-600">Mon–Fri 8:30–5:00, Sat 8:00–12:00</p>
            </div>
          </li>
        </ul>
        <div class="mt-6 rounded-xl overflow-hidden border border-slate-200 shadow-sm">
          <iframe title="Caravans Tasmania on Google Maps" class="w-full h-64 md:h-80" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src="https://www.google.com/maps?q=389%20Hobart%20Road,%20Youngtown%20TAS%207249&output=embed"></iframe>
        </div>
        <a class="mt-3 inline-flex items-center gap-2 text-sm font-medium text-slate-900 hover:underline" target="_blank" rel="noopener" href="https://maps.google.com/?q=389%20Hobart%20Road,%20Youngtown%20TAS%207249">
          Get directions →
        </a>
      </div>

      <form id="contactForm" action="https://formsubmit.co/ajax/reception@caravanstas.com.au" method="POST" accept-charset="UTF-8" enctype="multipart/form-data" class="bg-white rounded-xl p-6 md:p-8 border border-slate-200 shadow-lg shadow-slate-200/50">
        <div id="form-success" class="hidden mb-6 rounded-lg bg-green-50 text-green-800 border border-green-200 px-4 py-3 text-sm flex items-center gap-3">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 shrink-0"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd" /></svg>
          <p>Thanks — we’ve received your message. We’ll get back to you shortly.</p>
        </div>
        <input type="text" name="_honey" style="display:none" tabindex="-1" autocomplete="off">
        <input type="hidden" name="_captcha" value="True">
        <input type="hidden" name="_template" value="table">
        <input type="hidden" name="_subject" value="Website enquiry — Caravans Tasmania">
        <input type="hidden" name="_autoresponse" value="Thanks for contacting Caravans Tasmania. We’ll get back to you as soon as we can.">
        <input type="hidden" id="_nextUrl" name="_next" value="index.html?sent=1#contact">

        <div class="grid gap-5">
          <fieldset>
            <legend class="text-sm font-medium text-slate-700 mb-3">Enquiry type</legend>
            <div class="flex flex-wrap gap-4">
              <label class="inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 cursor-pointer hover:bg-slate-50 transition has-[:checked]:border-slate-900 has-[:checked]:bg-slate-50">
                <input type="radio" name="enquiry_type" value="general" data-email="reception@caravanstas.com.au" data-subject="Website enquiry — Caravans Tasmania" checked class="accent-slate-900">
                <span class="text-sm font-medium">General / Service</span>
              </label>
              <label class="inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 cursor-pointer hover:bg-slate-50 transition has-[:checked]:border-slate-900 has-[:checked]:bg-slate-50">
                <input type="radio" name="enquiry_type" value="parts" data-email="spareparts@caravanstas.com.au" data-subject="Spare parts enquiry — Caravans Tasmania" class="accent-slate-900">
                <span class="text-sm font-medium">Spare parts</span>
              </label>
              <label class="inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 cursor-pointer hover:bg-slate-50 transition has-[:checked]:border-slate-900 has-[:checked]:bg-slate-50">
                <input type="radio" name="enquiry_type" value="stock" data-email="l.stingle@caravanstas.com.au" data-subject="Caravan stock enquiry — Caravans Tasmania" class="accent-slate-900">
                <span class="text-sm font-medium">Caravan stock</span>
              </label>
            </div>
          </fieldset>
          <div class="grid sm:grid-cols-2 gap-4">
            <div>
              <label class="text-sm font-medium text-slate-700" for="cname">Name *</label>
              <input name="name" id="cname" class="mt-1 w-full border border-slate-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-slate-900 focus:border-slate-900 outline-none transition" required />
            </div>
             <div>
              <label class="text-sm font-medium text-slate-700" for="cphone">Phone</label>
              <input name="phone" id="cphone" type="tel" inputmode="tel" autocomplete="tel" pattern="^[0-9+\s()\-]{6,}$" class="mt-1 w-full border border-slate-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-slate-900 focus:border-slate-900 outline-none transition" />
            </div>
          </div>
          <div>
            <label class="text-sm font-medium text-slate-700" for="cemail">Email *</label>
            <input name="email" id="cemail" type="email" class="mt-1 w-full border border-slate-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-slate-900 focus:border-slate-900 outline-none transition" required />
          </div>
          <div id="stockFields" class="hidden">
            <label class="text-sm font-medium text-slate-700" for="stock_model">Model you’re enquiring about *</label>
            <input name="enquired_model" id="stock_model" type="text" placeholder="e.g. New Age Manta Ray 19'6" class="mt-1 w-full border border-slate-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-slate-900 focus:border-slate-900 outline-none transition" />
          </div>
          <div id="partsFields" class="hidden grid gap-4 p-4 bg-slate-50 rounded-lg border border-slate-200">
             <p class="text-sm font-semibold text-slate-900">Parts details</p>
            <div>
              <label class="text-sm font-medium text-slate-700" for="part_needed">Part needed *</label>
              <input name="part_needed" id="part_needed" type="text" placeholder="e.g. Carefree awning arm LH" class="mt-1 w-full border border-slate-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-slate-900 focus:border-slate-900 outline-none transition" />
            </div>
            <div class="grid sm:grid-cols-2 gap-4">
               <div>
                <label class="text-sm font-medium text-slate-700" for="vin">Chassis number</label>
                <input name="vin" id="vin" type="text" placeholder="e.g. 6K9NAA…" class="mt-1 w-full border border-slate-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-slate-900 focus:border-slate-900 outline-none transition" />
              </div>
               <div>
                 <label class="text-sm font-medium text-slate-700" for="part_number">Part Number (if known)</label>
                 <input name="part_number" id="part_number" type="text" class="mt-1 w-full border border-slate-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-slate-900 focus:border-slate-900 outline-none transition" />
               </div>
            </div>
            <div>
              <label class="text-sm font-medium text-slate-700" for="photos">Upload photo (optional)</label>
              <input name="attachment" id="photos" type="file" accept="image/*" class="mt-1 w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-slate-100 file:text-slate-700 hover:file:bg-slate-200 transition" />
              <p class="text-xs text-slate-500 mt-1">A photo of the old part or its label helps us identify the right replacement.</p>
            </div>
          </div>
          <div>
            <label class="text-sm font-medium text-slate-700" for="cmsg">Message *</label>
            <textarea name="message" id="cmsg" class="mt-1 w-full border border-slate-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-slate-900 focus:border-slate-900 outline-none transition" rows="4" required></textarea>
          </div>
          <button id="sendBtn" class="w-full bg-slate-900 text-white px-6 py-3 rounded-lg font-medium hover:bg-slate-800 transition focus:ring-4 focus:ring-slate-200" type="submit">Send Message</button>
        </div>
      </form>
    </div>
  </section>

  <footer class="bg-slate-900 text-slate-200 mt-10">
    <div class="border-b border-slate-800">
      <div class="max-w-7xl mx-auto px-4 py-8 flex flex-col md:flex-row items-center justify-between gap-6">
        <p class="text-sm text-slate-400 uppercase tracking-wider font-medium">Proud dealers of</p>
        <div class="flex items-center gap-8 opacity-90 hover:opacity-100 transition">
          <img src="assets/347646878_910836809978084_4849413234819503772_n.png" alt="New Age Caravans" class="h-12 md:h-16 w-auto object-contain" loading="lazy" decoding="async">
          <img src="assets/Highclere-Caravans-logo-2.png" alt="Highclere Caravans" class="h-8 md:h-11 w-auto object-contain logo-white" loading="lazy" decoding="async">
        </div>
      </div>
    </div>
    <div class="max-w-7xl mx-auto px-4 py-12 grid md:grid-cols-4 gap-8">
      <div>
        <h4 class="font-semibold text-white">Caravans Tasmania</h4>
        <p class="text-sm text-slate-400 mt-3 leading-relaxed">
          389 Hobart Road, Youngtown TAS 7249<br>
          <a class="hover:text-white transition" href="tel:+61363437287">(03) 6343 7287</a><br>
          <a class="hover:text-white transition" href="mailto:reception@caravanstas.com.au">reception@caravanstas.com.au</a>
        </p>
      </div>
      <div>
        <h5 class="font-semibold text-white">Opening Hours</h5>
        <p class="text-sm text-slate-400 mt-3 leading-relaxed">
          Mon–Fri: 8:30am – 5:00pm<br>
          Sat: 8:00am – 12:00pm<br>
          Sun: Closed
        </p>
      </div>
      <div class="md:col-span-2 md:pl-12">
        <h5 class="font-semibold text-white">Connect with us</h5>
        <p class="text-sm text-slate-400 mt-3">Follow us for new stock arrivals and caravanning tips.</p>
        <a href="https://www.facebook.com/caravanstasmania/" target="_blank" rel="noopener" class="mt-4 inline-flex items-center justify-center w-10 h-10 rounded-full bg-slate-800 hover:bg-[#1877F2] transition text-white" aria-label="Facebook">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5 fill-current"><path d="M22 12.06C22 6.5 17.52 2 12 2S2 6.5 2 12.06c0 5 3.66 9.14 8.44 9.94v-7.03H7.9v-2.9h2.54V9.41c0-2.5 1.49-3.89 3.77-3.89 1.09 0 2.23.2 2.23.2v2.45h-1.26c-1.24 0-1.63.77-1.63 1.56v1.87h2.78l-.44 2.9h-2.34V22c4.78-.8 8.44-4.94 8.44-9.94Z"/></svg>
        </a>
      </div>
    </div>
    <div class="border-t border-slate-800 bg-slate-950">
      <div class="max-w-7xl mx-auto px-4 py-6 text-sm flex flex-col sm:flex-row items-center justify-between gap-4 text-slate-500">
        <p>© <span id="year"></span> Caravans Tasmania. All rights reserved.</p>
        <div class="flex gap-6">
          <a href="#home" class="hover:text-slate-300 transition">Home</a>
          <a href="stock.html" class="hover:text-slate-300 transition">Stock</a>
          <a href="#contact" class="hover:text-slate-300 transition">Contact</a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Cross-fade hero
    (function () {
      const root = document.getElementById('homeFade');
      if (!root) return;
      const imgs = Array.from(root.querySelectorAll('img'));
      if (imgs.length < 2) return;
      const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReduced) return;
      let i = 0;
      setInterval(() => {
        imgs[i].classList.replace('opacity-100', 'opacity-0');
        i = (i + 1) % imgs.length;
        imgs[i].classList.replace('opacity-0', 'opacity-100');
      }, 5000);
    })();

    // Mobile nav
    const menuBtn = document.getElementById('menuBtn');
    const mobileNav = document.getElementById('mobileNav');
    function toggleNav(open) {
      const isOpen = open ?? mobileNav.classList.contains('hidden');
      mobileNav.classList.toggle('hidden', !isOpen);
      menuBtn?.setAttribute('aria-expanded', String(isOpen));
    }
    menuBtn?.addEventListener('click', () => toggleNav());
    mobileNav?.querySelectorAll('a').forEach(a => a.addEventListener('click', () => toggleNav(false)));
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape') toggleNav(false); });

    // Contact form success & mode switching
    (function () {
      if (new URLSearchParams(location.search).get('sent') === '1') {
        document.getElementById('form-success')?.classList.remove('hidden');
        if (!location.hash) location.hash = '#contact';
      }
      const form = document.getElementById('contactForm');
      const btn = document.getElementById('sendBtn');
      const success = document.getElementById('form-success');
      const radios = Array.from(document.querySelectorAll('input[name="enquiry_type"]'));
      const partsFields = document.getElementById('partsFields');
      const stockFields = document.getElementById('stockFields');
      const partNeeded = document.getElementById('part_needed');
      const stockModel = document.getElementById('stock_model');
      const subjectInput = form?.querySelector('input[name="_subject"]');
      const nextInput = document.getElementById('_nextUrl');

      function syncMode() {
        const chosen = radios.find(r => r.checked);
        if (!chosen) return;
        const isParts = chosen.value === 'parts';
        const isStock = chosen.value === 'stock';
        if (subjectInput) subjectInput.value = chosen.dataset.subject || 'Website enquiry';
        const email = chosen.dataset.email;
        if (isParts) {
             form.action = `https://formsubmit.co/${email}`;
             if (nextInput) nextInput.disabled = false;
        } else {
             form.action = `https://formsubmit.co/ajax/${email}`;
             if (nextInput) nextInput.disabled = true;
        }
        partsFields.classList.toggle('hidden', !isParts);
        stockFields.classList.toggle('hidden', !isStock);
        if (partNeeded) partNeeded.toggleAttribute('required', isParts);
        if (stockModel) stockModel.toggleAttribute('required', isStock);
      }
      radios.forEach(r => r.addEventListener('change', syncMode));
      syncMode();

      if (form) {
        form.addEventListener('submit', async (e) => {
          const chosen = radios.find(r => r.checked);
          if (chosen?.value === 'parts') {
            btn.disabled = true; btn.textContent = 'Sending…'; return;
          }
          e.preventDefault();
          btn.disabled = true; btn.textContent = 'Sending…';
          try {
            const res = await fetch(form.action, { method: 'POST', body: new FormData(form), headers: { 'Accept': 'application/json' } });
            if (res.ok) { form.reset(); syncMode(); success?.classList.remove('hidden'); }
            else { alert('Error sending message. Please call us directly.'); }
          } catch (err) { alert('Network error. Please try again.'); }
          finally { btn.disabled = false; btn.textContent = 'Send Message'; }
        });
      }
    })();

    // --- PocketBase Config ---
    const PB_BASE = 'https://compilation-race-conduct-mud.trycloudflare.com';
    const PB_COLLECTION = 'caravans'; // Matches your stock page config

    // Helper to build PocketBase file URL
    function pbFileUrl(base, rec, file, size = '800x500') {
      if (!file) return 'assets/placeholder.jpg';
      const col = rec.collectionId || rec.collectionName || PB_COLLECTION;
      return `${base}/api/files/${encodeURIComponent(col)}/${encodeURIComponent(rec.id)}/${encodeURIComponent(file)}?thumb=${size}`;
    }

    // Helper to format currency
    const currency = n => {
      if (n === null || n === undefined || n === '') return 'POA';
      const num = typeof n === 'number' ? n : parseFloat(n);
      if (isNaN(num)) return 'POA';
      return num.toLocaleString('en-AU', { style: 'currency', currency: 'AUD', maximumFractionDigits: 0 });
    };

    // Fetch and display stock
    fetch(`${PB_BASE}/api/collections/${PB_COLLECTION}/records?perPage=3&sort=-created`, { cache: 'no-store' })
      .then(r => {
        if (!r.ok) throw new Error(`PocketBase fetch failed: ${r.status}`);
        return r.json();
      })
      .then(data => {
        const items = data.items || data.records || [];
        const el = document.getElementById('stockPreview');
        if (!el) return;

        if (items.length === 0) {
          el.innerHTML = '<p class="text-slate-500 col-span-full text-center py-10">No stock currently available to display.</p>';
          return;
        }

        el.innerHTML = items.map(rec => {
          // --- MAPPING LOGIC (Matches your stock.html) ---
          const hero = rec.Main_image || (Array.isArray(rec.gallery) && rec.gallery[0]);
          const thumbUrl = pbFileUrl(PB_BASE, rec, hero);
          const title = rec.Title || [rec.Brand, rec.Model].filter(Boolean).join(' ') || '(Untitled)';
          const condition = (rec.Condition || '').toLowerCase(); // 'new', 'used', 'demo'
          const status = (rec.Status || '').toLowerCase();       // 'available', 'sold'
          const isSold = status === 'sold';
          const meta = [
            rec.Size ? `${rec.Size} ft` : '',
            rec.berths ? `${rec.berths} berth` : '',
            rec.Axle || rec.axleConfiguration
          ].filter(Boolean).join(' • ');
           // -----------------------------------------------

          return `
            <a href="caravan.html?id=${encodeURIComponent(rec.id)}" class="group rounded-xl border border-slate-200 overflow-hidden bg-white shadow-sm hover:shadow-md transition block">
              <div class="relative overflow-hidden">
                <img src="${thumbUrl}" alt="${title}" class="w-full h-52 object-cover group-hover:scale-105 transition duration-500" loading="lazy" decoding="async">
                <div class="absolute top-3 left-3 flex gap-2">
                  ${condition ? `<span class="px-2 py-1 text-xs font-semibold rounded bg-white/90 text-slate-900 shadow-sm capitalize">${condition}</span>` : ''}
                  ${isSold ? `<span class="px-2 py-1 text-xs font-semibold rounded bg-red-600 text-white shadow-sm">Sold</span>` : ''}
                </div>
              </div>
              <div class="p-5">
                <h3 class="font-semibold text-lg group-hover:text-blue-900 transition truncate">${title}</h3>
                <p class="mt-2 text-sm text-slate-600 flex items-center gap-2 truncate">
                  ${meta}
                </p>
                <p class="mt-4 text-xl font-bold text-slate-900">${currency(rec.Price)}</p>
              </div>
            </a>
          `;
        }).join('');
      })
      .catch(err => {
        console.error('Failed to load stock preview:', err);
        const el = document.getElementById('stockPreview');
        if (el) el.innerHTML = '<p class="text-red-500 col-span-full text-center py-4">Temporarily unable to load latest stock.</p>';
      });
  </script>
</body>
</html>
